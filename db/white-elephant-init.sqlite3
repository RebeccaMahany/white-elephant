CREATE TABLE game (
    id INTEGER PRIMARY KEY AUTOINCREMENT,
    game_code TEXT,
    UNIQUE(game_code)
);

CREATE TABLE player (
    id INTEGER PRIMARY KEY AUTOINCREMENT,
    name TEXT,
    sprite TEXT,
    game_id INTEGER,
    UNIQUE(name, game_id),
    FOREIGN KEY(game_id) REFERENCES game(id)
);

CREATE TABLE present (
    id INTEGER PRIMARY KEY AUTOINCREMENT,
    description TEXT,
    from_player_id INTEGER,
    current_player_id INTEGER,
    game_id INTEGER,
    UNIQUE(description, from_player_id, game_id),
    FOREIGN KEY(game_id) REFERENCES game(id),
    FOREIGN KEY(from_player_id) REFERENCES player(id),
    FOREIGN KEY(current_player_id) REFERENCES player(id)
);
